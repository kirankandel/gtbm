---
import { getRelativeLocaleUrl } from 'astro:i18n';
import { useTranslations } from '../i18n/ui';

const currentYear = new Date().getFullYear();
const { lang = 'en' } = Astro.props;
const t = useTranslations(lang);

function l(path: string) {
    return getRelativeLocaleUrl(lang, path);
}

---

<footer class="bg-footer-bg text-footer-text pt-12 mt-auto">
  <div class="container mx-auto px-4 grid grid-cols-[repeat(auto-fit,minmax(250px,1fr))] gap-8 pb-8">
    <div class="footer-section about">
      <h3 class="text-secondary mb-6 text-xl font-bold">GTBM</h3>
      <p class="mb-2 text-[#e0e0e0]">Gulmeli Three Brothers Multipurpose Pvt Ltd.</p>
      <p class="mb-2 text-[#e0e0e0]">{t('footer.description')}</p>
    </div>

    <div class="footer-section links">
      <h3 class="text-secondary mb-6 text-xl font-bold">{t('footer.quicklinks')}</h3>
      <ul class="list-none p-0 m-0">
        <li class="mb-2"><a href={l('')} class="text-[#e0e0e0] hover:text-secondary transition-colors">{t('nav.home')}</a></li>
        <li class="mb-2"><a href={l('about')} class="text-[#e0e0e0] hover:text-secondary transition-colors">{t('nav.about')}</a></li>
        <li class="mb-2"><a href={l('services')} class="text-[#e0e0e0] hover:text-secondary transition-colors">{t('nav.services')}</a></li>
        <li class="mb-2"><a href={l('projects')} class="text-[#e0e0e0] hover:text-secondary transition-colors">{t('nav.projects')}</a></li>
        <li class="mb-2"><a href={l('contact')} class="text-[#e0e0e0] hover:text-secondary transition-colors">{t('nav.contact')}</a></li>
      </ul>
    </div>


    <div class="footer-section contact">
      <h3 class="text-secondary mb-6 text-xl font-bold">{t('footer.contact')}</h3>
      <p class="mb-2 text-[#e0e0e0]">üìç New Baneshwor-10, Kathmandu</p>
      <p class="mb-2 text-[#e0e0e0]">üìû <a href="tel:9851074241" class="text-[#e0e0e0] hover:text-secondary transition-colors">9851074241</a></p>
      <p class="mb-2 text-[#e0e0e0]">‚úâÔ∏è <a href="mailto:info@gtbm.com.np" class="text-[#e0e0e0] hover:text-secondary transition-colors">info@gtbm.com.np</a></p>
      
      <div class="social-links">
        <!-- Add social icons here if needed -->
      </div>
    </div>
    
    <div class="footer-section map">
        <!-- Embedded Google Map for New Baneshwor -->
        <iframe 
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3532.564539668486!2d85.3341!3d27.6915!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x39eb19a792044813%3A0x67399a9a0e663806!2sNew%20Baneshwor%2C%20Kathmandu!5e0!3m2!1sen!2snp!4v1700000000000!5m2!1sen!2snp" 
            class="block w-full h-[200px] rounded-lg border-0"
            allowfullscreen="" 
            loading="lazy" 
            referrerpolicy="no-referrer-when-downgrade">
        </iframe>
    </div>
  </div>

  <div class="bg-[#00447a] text-center py-6 mt-4">
    <p class="m-0 text-sm text-white">&copy; {currentYear} GTBM. {t('footer.rights')}</p>
  </div>
</footer>
